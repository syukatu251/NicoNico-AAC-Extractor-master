// jsziptools http://github.com/ukyo/jsziptools
var jz=jz||{};jz.utils=jz.utils||{};jz.algorithms=jz.algorithms||{};jz.zlib=jz.zlib||{};jz.gz=jz.gz||{};jz.zip=jz.zip||{};jz.zip.LOCAL_FILE_SIGNATURE=67324752;jz.zip.CENTRAL_DIR_SIGNATURE=33639248;jz.zip.END_SIGNATURE=101010256;jz.BlobBuilder=this.MozBlobBuilder||this.WebKitBlobBuilder||this.MSBlobBuilder||this.BlobBuilder;jz.env=jz.env||{};jz.env.isWorker="function"===typeof importScripts;jz.utils.toBytes=function(b){"string"===typeof b&&(b=jz.utils.stringToArrayBuffer(b));return b.constructor===ArrayBuffer||Array.isArray(b)?new Uint8Array(b):b};jz.utils.stringToArrayBuffer=function(b){var c=b.length,d=-1,a=[],e,m,k;for(e=0;e<c;++e)if(k=b.charCodeAt(e),127>=k)a[++d]=k;else if(2047>=k)a[++d]=192|k>>>6,a[++d]=128|k&63;else if(65535>=k)a[++d]=224|k>>>12,a[++d]=128|k>>>6&63,a[++d]=128|k&63;else{for(m=4;k>>6*m;)++m;for(a[++d]=65280>>>m&255|k>>>6*--m;m--;)a[++d]=128|k>>>6*m&63}return(new Uint8Array(a)).buffer};
jz.utils.loadSync=function(b){var c=new XMLHttpRequest;c.open("GET",b,!1);c.setRequestHeader("If-Modified-Since","01 Jan 1970 00:00:00 GMT");c.responseType="arraybuffer";c.send();return c.response};
jz.utils.load=function(b,c){var b=Array.isArray(b)?b:[b],c=c||function(){},d=[];b.forEach(function(a,e){var b=new XMLHttpRequest;b.open("GET",a);b.responseType="arraybuffer";b.onloadend=function(){var a=b.status;if(200===a||206===a||0===a)d[e]=b.response;else throw"Load Error: "+a;};d[e]=0;b.send()});(function e(){-1===d.indexOf(0)?c.apply(null,d):setTimeout(e,5)})()};
jz.utils.concatByteArrays=function(b){var b=Array.isArray(b)?b:Array.prototype.slice.call(arguments,0),c=0,d=0,a,e;a=0;for(e=b.length;a<e;++a)c+=b[a].length;c=new Uint8Array(c);for(a=0;a<e;++a)c.set(b[a],d),d+=b[a].length;return c};jz.algorithms.adler32=function(b){for(var b=jz.utils.toBytes(b),c=1,d=0,a=0,e=b.length,m;0<e;){m=5550<e?5550:e;e-=m;do c+=b[a++],d+=c;while(--m);c%=65521;d%=65521}return(d<<16|c)>>>0};(function(b){var c=function(){function a(){this.bufferLength=this.pos=0;this.eof=!1;this.buffer=null}a.prototype={ensureBuffer:function(a){var b=this.buffer,d=b?b.byteLength:0;if(a<d)return b;for(var c=512;c<a;)c<<=1;a=new Uint8Array(c);for(c=0;c<d;++c)a[c]=b[c];return this.buffer=a},getByte:function(){for(var a=this.pos;this.bufferLength<=a;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(a){var b=this.pos;if(a){this.ensureBuffer(b+a);for(a=b+a;!this.eof&&
this.bufferLength<a;)this.readBlock();var c=this.bufferLength;a>c&&(a=c)}else{for(;!this.eof;)this.readBlock();a=this.bufferLength}this.pos=a;return this.buffer.subarray(b,a)},lookChar:function(){for(var a=this.pos;this.bufferLength<=a;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var a=this.pos;this.bufferLength<=a;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(a,
b,c){for(var d=a+b;this.bufferLength<=d&&!this.eof;)this.readBlock();return new Stream(this.buffer,a,b,c)},skip:function(a){a||(a=1);this.pos+=a},reset:function(){this.pos=0}};return a}(),d=function(){function a(a){throw Error(a);}function b(a){this.bytes=a;this.codeBuf=this.codeSize=this.bytesPos=0;c.call(this)}var d=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),k=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,
262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),o=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),p=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59E4,524296,524424,
524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,
524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,
524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,
524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,
524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,
524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,
524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],q=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,
327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];b.prototype=Object.create(c.prototype);b.prototype.getBits=function(b){for(var c=this.codeSize,d=this.codeBuf,i=this.bytes,f=this.bytesPos,g;c<b;)"undefined"==typeof(g=i[f++])&&a("Bad encoding in flate stream"),d|=g<<c,c+=8;this.codeBuf=d>>b;this.codeSize=c-b;this.bytesPos=f;return d&(1<<b)-1};b.prototype.getCode=function(b){for(var c=b[0],d=b[1],b=this.codeSize,i=this.codeBuf,f=this.bytes,g=this.bytesPos;b<
d;){var h;"undefined"==typeof(h=f[g++])&&a("Bad encoding in flate stream");i|=h<<b;b+=8}d=c[i&(1<<d)-1];c=d>>16;d&=65535;(0==b||b<c||0==c)&&a("Bad encoding in flate stream");this.codeBuf=i>>c;this.codeSize=b-c;this.bytesPos=g;return d};b.prototype.generateHuffmanTable=function(a){for(var b=a.length,c=0,d=0;d<b;++d)a[d]>c&&(c=a[d]);for(var f=1<<c,g=new Uint32Array(f),h=1,e=0,j=2;h<=c;++h,e<<=1,j<<=1)for(var l=0;l<b;++l)if(a[l]==h){for(var k=0,m=e,d=0;d<h;++d)k=k<<1|m&1,m>>=1;for(d=k;d<f;d+=j)g[d]=
h<<16|l;++e}return[g,c]};b.prototype.readBlock=function(){function b(a,c,d,e,f){for(a=a.getBits(d)+e;0<a--;)c[n++]=f}var c=this.getBits(3);c&1&&(this.eof=!0);c>>=1;if(0==c){var e=this.bytes,i=this.bytesPos,f;"undefined"==typeof(f=e[i++])&&a("Bad block header in flate stream");var g=f;"undefined"==typeof(f=e[i++])&&a("Bad block header in flate stream");g|=f<<8;"undefined"==typeof(f=e[i++])&&a("Bad block header in flate stream");c=f;"undefined"==typeof(f=e[i++])&&a("Bad block header in flate stream");
(c|f<<8)!=(~g&65535)&&a("Bad uncompressed block length in flate stream");this.codeSize=this.codeBuf=0;f=this.bufferLength;c=this.ensureBuffer(f+g);this.bufferLength=g=f+g;for(var h=f;h<g;++h){if("undefined"==typeof(f=e[i++])){this.eof=!0;break}c[h]=f}this.bytesPos=i}else{if(1==c)i=p,f=q;else if(2==c){c=this.getBits(5)+257;f=this.getBits(5)+1;for(var e=this.getBits(4)+4,i=Array(d.length),n=0;n<e;)i[d[n++]]=this.getBits(3);i=this.generateHuffmanTable(i);n=e=0;f=c+f;for(g=Array(f);n<f;)h=this.getCode(i),
16==h?b(this,g,2,3,e):17==h?b(this,g,3,3,e=0):18==h?b(this,g,7,11,e=0):g[n++]=e=h;i=this.generateHuffmanTable(g.slice(0,c));f=this.generateHuffmanTable(g.slice(c,f))}else a("Unknown block type in flate stream");g=(c=this.buffer)?c.length:0;for(h=this.bufferLength;;){var j=this.getCode(i);if(256>j)h+1>=g&&(c=this.ensureBuffer(h+1),g=c.length),c[h++]=j;else{if(256==j){this.bufferLength=h;break}var j=j-257,j=k[j],l=j>>16;0<l&&(l=this.getBits(l));e=(j&65535)+l;j=this.getCode(f);j=o[j];l=j>>16;0<l&&(l=
this.getBits(l));j=(j&65535)+l;h+e>=g&&(c=this.ensureBuffer(h+e),g=c.length);for(l=0;l<e;++l,++h)c[h]=c[h-j]}}}};return b}();b.algorithms.inflate=function(a){a=b.utils.toBytes(a);return(new Uint8Array((new d(a)).getBytes())).buffer}})(jz);jz.zlib.decompress=function(b,c){var d,a;a=0;b=jz.utils.toBytes(b);d=DataView.create(b);a++;b[a++]&32&&(d.getUint32(a),a+=4);a=jz.algorithms.inflate(b.subarray(a,b.length-4));if(c&&(d=d.getUint32(b.length-4,!1),checksum2=jz.algorithms.adler32(a),d!==checksum2))throw"Error: differ from checksum";return a};
